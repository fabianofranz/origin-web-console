<div class="overview-pipeline">
  <div class="timestamp">
    <relative-timestamp timestamp="build.metadata.creationTimestamp"></relative-timestamp>
  </div>
  <div row class="overview-pipeline-details">
    <div class="build-name">
      <a ng-href="{{build | navigateResourceURL}}">Build #{{build | annotation : 'buildNumber'}}</a>
    </div>
    <div class="build-phase">
      {{build.status.phase}}
    </div>
    <div class="stages">
      <div ng-if="!jenkinsStatus.stages.length">
        <div>No stages have started.</div>
      </div>
      <div ng-repeat="stage in jenkinsStatus.stages" class="stage">
        <span
            data-toggle="tooltip"
            data-trigger="hover"
            dynamic-content="{{stage.name}}: {{stage.status | sentenceCase}}">
          <pipeline-status ng-if="stage.status" status="stage.status"></pipeline-status>
        </span>
        <span ng-if="!(stage | pipelineStageComplete)" class="incomplete-stage">
          {{stage.name}}
          <span ng-if="stage.durationMillis" class="stage-duration">{{stage.durationMillis | humanizeDurationValue}}</span>
        </span>
      </div>
    </div>
    <div ng-if="build | buildLogURL" class="log-link"><a ng-href="{{build | buildLogURL}}" target="_blank">View Log</a></div>
  </div>
</div>

<div ng-repeat="metric in metrics" class="metrics-compact">
  <div ng-attr-id="{{metric.chartPrefix + uniqueID}}-sparkline" class="metrics-sparkline"></div>
  <div class="metrics-usage">
    <div class="usage-value">
      <span ng-repeat="dataset in metric.datasets">
        <span ng-if="!$first">/</span>
        <span ng-if="!(usageByMetric[dataset.id].used | isNil)">{{usageByMetric[dataset.id].used}}</span>
        <span ng-if="usageByMetric[dataset.id].used | isNil">
          <span class="text-muted" aria-hidden="true">--</span>
          <span class="sr-only">No data</span>
        </span>
        <span ng-if="dataset.iconClass"
              ng-class="dataset.iconClass"
              class="small text-muted"
              aria-hidden="true">
        </span>
      </span>
    </div>
    <div class="usage-label">
      {{metric.units | capitalize}} {{metric.label}}
    </div>
  </div>
</div>
